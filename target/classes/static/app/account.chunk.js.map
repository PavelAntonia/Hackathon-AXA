{"version":3,"file":"app/account.chunk.js","sources":["webpack://axa/./src/main/webapp/app/modules/account/index.tsx","webpack://axa/./src/main/webapp/app/modules/account/password/password.tsx","webpack://axa/./src/main/webapp/app/modules/account/sessions/sessions.tsx","webpack://axa/./src/main/webapp/app/modules/account/settings/settings.tsx"],"sourcesContent":["import React from 'react';\n\nimport ErrorBoundaryRoute from 'app/shared/error/error-boundary-route';\n\nimport Settings from './settings/settings';\nimport Password from './password/password';\nimport Sessions from './sessions/sessions';\n\nconst Routes = ({ match }) => (\n  <div>\n    <ErrorBoundaryRoute path={`${match.url}/settings`} component={Settings} />\n    <ErrorBoundaryRoute path={`${match.url}/password`} component={Password} />\n    <ErrorBoundaryRoute path={`${match.url}/sessions`} component={Sessions} />\n  </div>\n);\n\nexport default Routes;\n","import React, { useState, useEffect } from 'react';\n\nimport { connect } from 'react-redux';\nimport { AvForm, AvField } from 'availity-reactstrap-validation';\nimport { Row, Col, Button } from 'reactstrap';\n\nimport { IRootState } from 'app/shared/reducers';\nimport { getSession } from 'app/shared/reducers/authentication';\nimport PasswordStrengthBar from 'app/shared/layout/password/password-strength-bar';\nimport { savePassword, reset } from './password.reducer';\n\nexport interface IUserPasswordProps extends StateProps, DispatchProps {}\n\nexport const PasswordPage = (props: IUserPasswordProps) => {\n  const [password, setPassword] = useState('');\n\n  useEffect(() => {\n    props.reset();\n    props.getSession();\n    return () => {\n      props.reset();\n    };\n  }, []);\n\n  const handleValidSubmit = (event, values) => {\n    props.savePassword(values.currentPassword, values.newPassword);\n  };\n\n  const updatePassword = event => setPassword(event.target.value);\n\n  return (\n    <div>\n      <Row className=\"justify-content-center\">\n        <Col md=\"8\">\n          <h2 id=\"password-title\">Password for {props.account.login}</h2>\n          <AvForm id=\"password-form\" onValidSubmit={handleValidSubmit}>\n            <AvField\n              name=\"currentPassword\"\n              label=\"Current password\"\n              placeholder={'Current password'}\n              type=\"password\"\n              validate={{\n                required: { value: true, errorMessage: 'Your password is required.' },\n              }}\n              data-cy=\"currentPassword\"\n            />\n            <AvField\n              name=\"newPassword\"\n              label=\"New password\"\n              placeholder={'New password'}\n              type=\"password\"\n              validate={{\n                required: { value: true, errorMessage: 'Your password is required.' },\n                minLength: { value: 4, errorMessage: 'Your password is required to be at least 4 characters.' },\n                maxLength: { value: 50, errorMessage: 'Your password cannot be longer than 50 characters.' },\n              }}\n              onChange={updatePassword}\n              data-cy=\"newPassword\"\n            />\n            <PasswordStrengthBar password={password} />\n            <AvField\n              name=\"confirmPassword\"\n              label=\"New password confirmation\"\n              placeholder=\"Confirm the new password\"\n              type=\"password\"\n              validate={{\n                required: {\n                  value: true,\n                  errorMessage: 'Your confirmation password is required.',\n                },\n                minLength: {\n                  value: 4,\n                  errorMessage: 'Your confirmation password is required to be at least 4 characters.',\n                },\n                maxLength: {\n                  value: 50,\n                  errorMessage: 'Your confirmation password cannot be longer than 50 characters.',\n                },\n                match: {\n                  value: 'newPassword',\n                  errorMessage: 'The password and its confirmation do not match!',\n                },\n              }}\n              data-cy=\"confirmPassword\"\n            />\n            <Button color=\"success\" type=\"submit\" data-cy=\"submit\">\n              Save\n            </Button>\n          </AvForm>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ authentication }: IRootState) => ({\n  account: authentication.account,\n  isAuthenticated: authentication.isAuthenticated,\n});\n\nconst mapDispatchToProps = { getSession, savePassword, reset };\n\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype DispatchProps = typeof mapDispatchToProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PasswordPage);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Alert, Table, Button } from 'reactstrap';\n\nimport { getSession } from 'app/shared/reducers/authentication';\nimport { IRootState } from 'app/shared/reducers';\nimport { findAll, invalidateSession } from './sessions.reducer';\n\nexport interface ISessionsProps extends StateProps, DispatchProps {}\n\nexport class SessionsPage extends React.Component<ISessionsProps> {\n  componentDidMount() {\n    this.props.getSession();\n    this.props.findAll();\n  }\n\n  doSessionInvalidation = series => () => {\n    this.props.invalidateSession(series);\n    this.props.findAll();\n  };\n\n  refreshList = () => {\n    this.props.findAll();\n  };\n\n  render() {\n    const { account, sessions, updateSuccess, updateFailure } = this.props;\n    return (\n      <div>\n        <h2>\n          Active sessions for [<strong>{account.login}</strong>]\n        </h2>\n\n        {updateSuccess ? (\n          <Alert color=\"success\">\n            <strong>Session invalidated!</strong>\n          </Alert>\n        ) : null}\n\n        {updateFailure ? (\n          <Alert color=\"danger\">\n            <span>\n              <strong>An error has occurred!</strong> The session could not be invalidated.\n            </span>\n          </Alert>\n        ) : null}\n\n        <Button color=\"primary\" onClick={this.refreshList}>\n          Refresh\n        </Button>\n\n        <div className=\"table-responsive\">\n          <Table className=\"table-striped\">\n            <thead>\n              <tr>\n                <th>IP Address</th>\n                <th>User agent</th>\n                <th>Date</th>\n                <th />\n              </tr>\n            </thead>\n\n            <tbody>\n              {sessions.map((s, index) => (\n                <tr key={index}>\n                  <td>{s.ipAddress}</td>\n                  <td>{s.userAgent}</td>\n                  <td>{s.tokenDate}</td>\n                  <td>\n                    <Button color=\"primary\" onClick={this.doSessionInvalidation(s.series)}>\n                      Invalidate\n                    </Button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ authentication, sessions }: IRootState) => ({\n  account: authentication.account,\n  sessions: sessions.sessions,\n  updateSuccess: sessions.updateSuccess,\n  updateFailure: sessions.updateFailure,\n});\n\nconst mapDispatchToProps = { getSession, findAll, invalidateSession };\n\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype DispatchProps = typeof mapDispatchToProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SessionsPage);\n","import React, { useEffect } from 'react';\nimport { Button, Col, Row } from 'reactstrap';\nimport { connect } from 'react-redux';\n\nimport { AvForm, AvField } from 'availity-reactstrap-validation';\n\nimport { IRootState } from 'app/shared/reducers';\nimport { getSession } from 'app/shared/reducers/authentication';\nimport { saveAccountSettings, reset } from './settings.reducer';\n\nexport interface IUserSettingsProps extends StateProps, DispatchProps {}\n\nexport const SettingsPage = (props: IUserSettingsProps) => {\n  useEffect(() => {\n    props.getSession();\n    return () => {\n      props.reset();\n    };\n  }, []);\n\n  const handleValidSubmit = (event, values) => {\n    const account = {\n      ...props.account,\n      ...values,\n    };\n\n    props.saveAccountSettings(account);\n    event.persist();\n  };\n\n  return (\n    <div>\n      <Row className=\"justify-content-center\">\n        <Col md=\"8\">\n          <h2 id=\"settings-title\">User settings for {props.account.login}</h2>\n          <AvForm id=\"settings-form\" onValidSubmit={handleValidSubmit}>\n            {/* First name */}\n            <AvField\n              className=\"form-control\"\n              name=\"firstName\"\n              label=\"First Name\"\n              id=\"firstName\"\n              placeholder=\"Your first name\"\n              validate={{\n                required: { value: true, errorMessage: 'Your first name is required.' },\n                minLength: { value: 1, errorMessage: 'Your first name is required to be at least 1 character' },\n                maxLength: { value: 50, errorMessage: 'Your first name cannot be longer than 50 characters' },\n              }}\n              value={props.account.firstName}\n              data-cy=\"firstname\"\n            />\n            {/* Last name */}\n            <AvField\n              className=\"form-control\"\n              name=\"lastName\"\n              label=\"Last Name\"\n              id=\"lastName\"\n              placeholder=\"Your last name\"\n              validate={{\n                required: { value: true, errorMessage: 'Your last name is required.' },\n                minLength: { value: 1, errorMessage: 'Your last name is required to be at least 1 character' },\n                maxLength: { value: 50, errorMessage: 'Your last name cannot be longer than 50 characters' },\n              }}\n              value={props.account.lastName}\n              data-cy=\"lastname\"\n            />\n            {/* Email */}\n            <AvField\n              name=\"email\"\n              label=\"Email\"\n              placeholder={'Your email'}\n              type=\"email\"\n              validate={{\n                required: { value: true, errorMessage: 'Your email is required.' },\n                minLength: { value: 5, errorMessage: 'Your email is required to be at least 5 characters.' },\n                maxLength: { value: 254, errorMessage: 'Your email cannot be longer than 50 characters.' },\n              }}\n              value={props.account.email}\n              data-cy=\"email\"\n            />\n            <Button color=\"primary\" type=\"submit\" data-cy=\"submit\">\n              Save\n            </Button>\n          </AvForm>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ authentication }: IRootState) => ({\n  account: authentication.account,\n  isAuthenticated: authentication.isAuthenticated,\n});\n\nconst mapDispatchToProps = { getSession, saveAccountSettings, reset };\n\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype DispatchProps = typeof mapDispatchToProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsPage);\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAIA;AACA;;;A;;;;;;;;;;;;;;;;;;;;;;;ACjBA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;;AAAA;AACA;AACA;AAMA;AACA;AAGA;AAMA;AACA;AACA;AACA;AAIA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAQA;AAEA;AACA;AACA;AACA;AAEA;AAKA;AACA;;;A;;;;;;;;;;;;;;;;;;;;;AC1GA;AACA;AACA;AAEA;AAEA;AAIA;AAAA;;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AA0DA;AAtEA;AACA;AACA;AACA;AAWA;AACA;AACA;AAEA;;AACA;AACA;AAEA;AAEA;AAIA;AAEA;AACA;AACA;AAIA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAGA;AACA;AACA;AACA;AACA;AAWA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;;;A;;;;;;;;;;;;;;;;;;;;;;AChGA;AACA;AACA;AAEA;AAGA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAKA;AACA;AACA;AAEA;AAEA;AACA;AACA;;AAAA;AACA;AAEA;AAOA;AACA;AACA;AACA;AAKA;AAOA;AACA;AACA;AACA;AAKA;AAMA;AACA;AACA;AACA;AAIA;AAQA;AAEA;AACA;AACA;AACA;AAEA;AAKA;AACA;;;A;;A","sourceRoot":""}